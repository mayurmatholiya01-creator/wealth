<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Glassy Stock Dashboard</title>
  <style>
    body {
      margin:0; padding:20px; background:#e0e5ec; font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    }
    .dashboard {
      max-width: 380px; margin: auto;
    }
    .header {
      display:flex; justify-content:space-between; align-items:center; margin-bottom:16px;
    }
    .header h1 {
      font-size:20px; color:#344055;
    }
    .segment-controls {
      display:flex; background:rgba(255,255,255,0.4); border-radius:12px;
      backdrop-filter:blur(10px); overflow:hidden;
    }
    .segment-btn {
      flex:1; padding:8px; text-align:center; font-weight:600; font-size:14px;
      color:#344055; cursor:pointer; transition:background 0.2s;
    }
    .segment-btn.active {
      background:rgba(59,130,246,0.8); color:white;
    }
    .card-stack {
      position:relative; height: 500px; overflow:hidden;
    }
    .card-list {
      position:absolute; top:0; left:0; right:0;
      display:flex; flex-direction:column; gap:12px;
      transition:transform 0.5s cubic-bezier(.25,.8,.25,1);
    }
    .card {
      display:flex; justify-content:space-between; padding:16px;
      background:rgba(255,255,255,0.5); border-radius:16px;
      backdrop-filter:blur(16px); box-shadow:0 8px 24px rgba(0,0,0,0.1);
    }
    .info {
      display:flex; flex-direction:column;
    }
    .ticker { font-size:16px; font-weight:600; color:#1f2937; }
    .name   { font-size:12px; color:#64748b; }
    .metrics { text-align:right; display:flex; flex-direction:column; }
    .price  { font-size:16px; font-weight:600; color:#1f2937; }
    .change {
      margin-top:4px; font-size:12px; font-weight:600; display:flex; align-items:center;
    }
    .pos { color:#10b981; }
    .neg { color:#ef4444; }
    .pos::before { content:"↑"; margin-right:4px; }
    .neg::before { content:"↓"; margin-right:4px; }
  </style>
</head>
<body>
  <div class="dashboard">
    <div class="header">
      <h1>Top Movers</h1>
      <div class="segment-controls">
        <div class="segment-btn active" id="btnG">Gainers</div>
        <div class="segment-btn" id="btnL">Losers</div>
      </div>
    </div>
    <div class="card-stack">
      <div class="card-list" id="cardList">
        <!-- Cards Injected Here -->
      </div>
    </div>
  </div>

  <script>
    const data = Array.from({length:20},(_,i)=>({
      ticker:`STK${i+1}`, name:`Company ${i+1}`,
      price:(1000+Math.random()*500).toFixed(2),
      change:(Math.random()*10*(Math.random()<0.5?-1:1)).toFixed(2)
    }));
    let page=0, view='g';
    const perPage=5;
    const cardList=document.getElementById('cardList');
    const btnG=document.getElementById('btnG'), btnL=document.getElementById('btnL');

    function render(){
      // sort & slice
      const sorted=data.slice().sort((a,b)=>view==='g'? b.change-a.change : a.change-b.change);
      const sliceData=sorted.slice(page*perPage, page*perPage+perPage);
      cardList.style.transform=`translateY(-${page*(120+12)}px)`;
      cardList.innerHTML=sliceData.map(d=>`
        <div class="card">
          <div class="info">
            <div class="ticker">${d.ticker}</div>
            <div class="name">${d.name}</div>
          </div>
          <div class="metrics">
            <div class="price">₹${d.price}</div>
            <div class="change ${d.change>0?'pos':'neg'}">
              ${Math.abs(d.change)}
            </div>
          </div>
        </div>
      `).join('');
    }

    btnG.onclick=()=>{
      view='g'; page=0;
      btnG.classList.add('active'); btnL.classList.remove('active');
      render();
    };
    btnL.onclick=()=>{
      view='l'; page=0;
      btnL.classList.add('active'); btnG.classList.remove('active');
      render();
    };

    // Swipe/Auto-advance every 3s
    setInterval(()=>{
      page=(page+1)%Math.ceil(20/perPage);
      render();
    },3000);

    // Initial mount
    render();
  </script>
</body>
</html>
